

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Guide &mdash; π-Stack Optimizer 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=f52818fb" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js?v=4a39c7ea"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="modules.html" />
    <link rel="prev" title="Optimization Algorithms" href="optimization.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            π-Stack Optimizer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theoretical Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputs_outputs.html">Input &amp; Output Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization.html">Optimization Algorithms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#command-line-interface-cli">Command Line Interface (CLI)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#positional-arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-options">General Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optimization-parameters">Optimization Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xtb-backend-options">xTB Backend Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-dimer-optimization">Basic Dimer Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#high-accuracy-trimer-search">High-Accuracy Trimer Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#speed-optimized-screening">Speed-Optimized Screening</a></li>
<li class="toctree-l3"><a class="reference internal" href="#handling-flexible-molecules">Handling Flexible Molecules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#restarting-logging">Restarting / Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation_details.html">Implementation Details</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">π-Stack Optimizer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">User Guide</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/sandeepgroup/pi-stack-optimizer/blob/main/docs/usage.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Link to this heading"></a></h1>
<p>This guide provides a comprehensive reference for using the <strong>π-Stack Optimizer</strong>. The core interface is the command-line tool <code class="docutils literal notranslate"><span class="pre">pi-stack-generator</span></code>, which orchestrates the entire workflow from geometry preprocessing to global optimization and local refinement.</p>
<section id="command-line-interface-cli">
<h2>Command Line Interface (CLI)<a class="headerlink" href="#command-line-interface-cli" title="Link to this heading"></a></h2>
<p>The general syntax is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pi-stack-generator<span class="w"> </span><span class="o">[</span>xyz_file<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</pre></div>
</div>
<section id="positional-arguments">
<h3>Positional Arguments<a class="headerlink" href="#positional-arguments" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">xyz_file</span></code></p></td>
<td><p>Path to the input monomer structure in XYZ format. The geometry should be reasonable (no severe clashes), but orientation does not matter as the program will automatically alignment it to the XY plane.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="general-options">
<h3>General Options<a class="headerlink" href="#general-options" title="Link to this heading"></a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-n-layer">
<span class="sig-name descname"><span class="pre">--n-layer</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-n-layer" title="Link to this definition"></a></dt>
<dd><p>Number of molecular layers in the stack. Default is <code class="docutils literal notranslate"><span class="pre">2</span></code> (dimer).</p>
<p><em>Example:</em> <code class="docutils literal notranslate"><span class="pre">--n-layer</span> <span class="pre">3</span></code> for a trimer optimization.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-optimizer">
<span class="sig-name descname"><span class="pre">--optimizer</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-optimizer" title="Link to this definition"></a></dt>
<dd><p>The global optimization algorithm to use.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pso</span></code>: Particle Swarm Optimization (Default). Robust and general-purpose.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ga</span></code>: Genetic Algorithm. Good for discrete-like landscapes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gwo</span></code>: Grey Wolf Optimizer. Often converges faster but can be less exhaustive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pso-nm</span></code>: Hybrid PSO + Nelder-Mead. Best for high-precision refinement.</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-max-iters">
<span class="sig-name descname"><span class="pre">--max-iters</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-max-iters" title="Link to this definition"></a></dt>
<dd><p>Maximum number of iterations (or generations for GA). Default is <code class="docutils literal notranslate"><span class="pre">300</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-seed">
<span class="sig-name descname"><span class="pre">--seed</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-seed" title="Link to this definition"></a></dt>
<dd><p>Random seed for reproducibility. Default is <code class="docutils literal notranslate"><span class="pre">42</span></code>.</p>
</dd></dl>

</section>
<section id="optimization-parameters">
<h3>Optimization Parameters<a class="headerlink" href="#optimization-parameters" title="Link to this heading"></a></h3>
<p><strong>Particle Swarm (PSO)</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-swarm-size">
<span class="sig-name descname"><span class="pre">--swarm-size</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-swarm-size" title="Link to this definition"></a></dt>
<dd><p>Number of particles in the swarm. Default: <code class="docutils literal notranslate"><span class="pre">60</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-inertia">
<span class="sig-name descname"><span class="pre">--inertia</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-inertia" title="Link to this definition"></a></dt>
<dd><p>Inertia weight (<span class="math notranslate nohighlight">\(\omega\)</span>). Controls how much the particle keeps its previous velocity. Higher values (&gt;0.7) facilitate exploration; lower values (&lt;0.5) facilitate exploitation. Default: <code class="docutils literal notranslate"><span class="pre">0.73</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cognitive">
<span class="sig-name descname"><span class="pre">--cognitive</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-cognitive" title="Link to this definition"></a></dt>
<dd><p>Cognitive coefficient (<span class="math notranslate nohighlight">\(c_1\)</span>). Weight for the particle’s <em>own</em> best known position. Default: <code class="docutils literal notranslate"><span class="pre">1.50</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-social">
<span class="sig-name descname"><span class="pre">--social</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-social" title="Link to this definition"></a></dt>
<dd><p>Social coefficient (<span class="math notranslate nohighlight">\(c_2\)</span>). Weight for the <em>global</em> best known position. Default: <code class="docutils literal notranslate"><span class="pre">1.50</span></code>.</p>
</dd></dl>

<p><strong>Genetic Algorithm (GA)</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ga-population">
<span class="sig-name descname"><span class="pre">--ga-population</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-ga-population" title="Link to this definition"></a></dt>
<dd><p>Size of the population. Default: <code class="docutils literal notranslate"><span class="pre">80</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ga-mutation-rate">
<span class="sig-name descname"><span class="pre">--ga-mutation-rate</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-ga-mutation-rate" title="Link to this definition"></a></dt>
<dd><p>Probability of mutation per parameter gene. Default: <code class="docutils literal notranslate"><span class="pre">0.10</span></code>.</p>
</dd></dl>

</section>
<section id="xtb-backend-options">
<h3>xTB Backend Options<a class="headerlink" href="#xtb-backend-options" title="Link to this heading"></a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-workers">
<span class="sig-name descname"><span class="pre">--workers</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-workers" title="Link to this definition"></a></dt>
<dd><p>Number of parallel worker processes to spawn. Set this to match your CPU core count. Default: <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-method">
<span class="sig-name descname"><span class="pre">--method</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-method" title="Link to this definition"></a></dt>
<dd><p>xTB method to use. Options: <code class="docutils literal notranslate"><span class="pre">gfn2</span></code> (default, best accuracy), <code class="docutils literal notranslate"><span class="pre">gfn1</span></code>, <code class="docutils literal notranslate"><span class="pre">gfn0</span></code> (fastest), <code class="docutils literal notranslate"><span class="pre">gfnff</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-solvent">
<span class="sig-name descname"><span class="pre">--solvent</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;str&gt;</span></span><a class="headerlink" href="#cmdoption-solvent" title="Link to this definition"></a></dt>
<dd><p>Implicit solvent model (e.g., <code class="docutils literal notranslate"><span class="pre">benzene</span></code>, <code class="docutils literal notranslate"><span class="pre">water</span></code>). Default: None (gas phase).</p>
</dd></dl>

</section>
</section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h2>
<section id="basic-dimer-optimization">
<h3>Basic Dimer Optimization<a class="headerlink" href="#basic-dimer-optimization" title="Link to this heading"></a></h3>
<p>The simplest usage requires only an XYZ file. This will perform a dimer optimization using PSO with default settings.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pi-stack-generator<span class="w"> </span>monomer.xyz
</pre></div>
</div>
</section>
<section id="high-accuracy-trimer-search">
<h3>High-Accuracy Trimer Search<a class="headerlink" href="#high-accuracy-trimer-search" title="Link to this heading"></a></h3>
<p>To optimize a trimer (3-stack) using the hybrid PSO-NM algorithm for higher precision, and increasing the swarm size for better coverage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pi-stack-generator<span class="w"> </span>monomer.xyz<span class="w"> </span>--n-layer<span class="w"> </span><span class="m">3</span><span class="w"> </span>--optimizer<span class="w"> </span>pso-nm<span class="w"> </span>--swarm-size<span class="w"> </span><span class="m">100</span><span class="w"> </span>--max-iters<span class="w"> </span><span class="m">500</span>
</pre></div>
</div>
</section>
<section id="speed-optimized-screening">
<h3>Speed-Optimized Screening<a class="headerlink" href="#speed-optimized-screening" title="Link to this heading"></a></h3>
<p>For quick screening of many molecules, use the GFN0-xTB method (faster but less accurate) and the GWO optimizer (fast convergence):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pi-stack-generator<span class="w"> </span>monomer.xyz<span class="w"> </span>--method<span class="w"> </span>gfn0<span class="w"> </span>--optimizer<span class="w"> </span>gwo<span class="w"> </span>--max-iters<span class="w"> </span><span class="m">100</span>
</pre></div>
</div>
</section>
<section id="handling-flexible-molecules">
<h3>Handling Flexible Molecules<a class="headerlink" href="#handling-flexible-molecules" title="Link to this heading"></a></h3>
<p>If your molecule has rotatable bonds (dihedrals) that should be part of the optimization, define them in a JSON file and pass it via <code class="docutils literal notranslate"><span class="pre">--torsions-file</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pi-stack-generator<span class="w"> </span>monomer.xyz<span class="w"> </span>--torsions-file<span class="w"> </span>torsions.json<span class="w"> </span>--enable-symmetric-torsions
</pre></div>
</div>
<p>See <a class="reference internal" href="inputs_outputs.html"><span class="doc">Input &amp; Output Files</span></a> for the format of the torsions file.</p>
</section>
</section>
<section id="restarting-logging">
<h2>Restarting / Logging<a class="headerlink" href="#restarting-logging" title="Link to this heading"></a></h2>
<p>The optimizer prints progress to specific log files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">optimization_results.txt</span></code>: Final summary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traj.csv</span></code>: (Optional) Full trajectory of the optimization if <code class="docutils literal notranslate"><span class="pre">--print-trajectories</span></code> is used.</p></li>
</ul>
<p>To track progress in real-time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail<span class="w"> </span>-f<span class="w"> </span>optimization_results.txt
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="optimization.html" class="btn btn-neutral float-left" title="Optimization Algorithms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Arunima Ghosh, Susmita Barik, Roshan J. Singh, Sandeep K. Reddy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>